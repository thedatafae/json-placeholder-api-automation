{
  "info": {
    "_postman_id": "4af6ac0d-e9b5-42e7-b882-4110b90f51b2",
    "name": "Weather_Testing_Env",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "52657583",
    "_collection_link": "https://go.postman.co/collection/52657583-4af6ac0d-e9b5-42e7-b882-4110b90f51b2?source=collection_link"
  },
  "item": [
    {
      "name": "Current Weather",
      "item": [
        {
          "name": "TC01_Status_Performance_Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "\r",
                  "pm.test(\"TC01_Status_Code_Is_200\", () => { pm.response.to.have.status(200); });"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/current.json?key={{api_key}}&q={{q}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "current.json"
              ],
              "query": [
                {
                  "key": "key",
                  "value": "{{api_key}}"
                },
                {
                  "key": "q",
                  "value": "{{q}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "TC02_Invalid_City_Negative_Test",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// TC02_Invalid_City_Negative_Test\r",
                  "// Objective: Verify API handles non-existent location queries gracefully\r",
                  "\r",
                  "// 1. Status Code Validation\r",
                  "pm.test(\"TC02_Status_Code_is_400\", function () {\r",
                  "    pm.response.to.have.status(400);\r",
                  "});\r",
                  "\r",
                  "// 2. Error Body Content Validation\r",
                  "pm.test(\"TC02_Error_Message_Is_Present\", function () {\r",
                  "    const jsonData = pm.response.json();\r",
                  "    pm.expect(jsonData).to.have.property('error');\r",
                  "    pm.expect(jsonData.error.message).to.include(\"No matching location found\");\r",
                  "});\r",
                  "\r",
                  "// 3. Error Code Specificity (Professional Grade)\r",
                  "pm.test(\"TC02_Error_Code_is_1006\", function () {\r",
                  "    const jsonData = pm.response.json();\r",
                  "    // WeatherAPI code 1006 specifically means \"No matching location found\"\r",
                  "    pm.expect(jsonData.error.code).to.eql(1006);\r",
                  "});\r",
                  "\r",
                  "// 4. Content-Type Check\r",
                  "pm.test(\"TC02_Response_Is_JSON\", function () {\r",
                  "    pm.response.to.have.header(\"Content-Type\", /json/);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/current.json?key={{api_key}}&q=fakecityxyz",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "current.json"
              ],
              "query": [
                {
                  "key": "key",
                  "value": "{{api_key}}"
                },
                {
                  "key": "q",
                  "value": "fakecityxyz"
                }
              ]
            },
            "description": "Objective: Verify API handles non-existent location queries gracefully"
          },
          "response": []
        },
        {
          "name": "TC03_Response_Latency_Audit",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "\r",
                  "pm.test(\"TC03_Latency_Within_Limits\", () => { pm.expect(pm.response.responseTime).to.be.below(2000); });"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/current.json?key={{api_key}}&q={{q}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "current.json"
              ],
              "query": [
                {
                  "key": "key",
                  "value": "{{api_key}}"
                },
                {
                  "key": "q",
                  "value": "{{q}}"
                }
              ]
            },
            "description": "Goal: Ensure high performance (checking against your 2000ms threshold).\nExpected:\n\n- Status 200\n    \n- Response time < 2000ms"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Forecast",
      "item": [
        {
          "name": "TC04_Forecast_Range_Validation",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"TC04_Verify_Three_Day_Array_Length\", () => { pm.expect(pm.response.json().forecast.forecastday).to.have.lengthOf(3); });"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/forecast.json?key={{api_key}}&q={{q}}&days=3",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "forecast.json"
              ],
              "query": [
                {
                  "key": "key",
                  "value": "{{api_key}}"
                },
                {
                  "key": "q",
                  "value": "{{q}}"
                },
                {
                  "key": "days",
                  "value": "3"
                }
              ]
            },
            "description": "Goal: Verify the API returns the correct number of days for a valid request (3 days).\nExpected:\n\n- 200\n    \n- forecast.forecastday length = 3\n    \n- Each day has date\n    \n- Each day has day.maxtemp_c"
          },
          "response": []
        },
        {
          "name": "TC05_Boundary_Limit_Exceed_Test",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"TC05_Boundary_Handling_Max_14_Days\", () => {",
                  "const days = pm.response.json().forecast.forecastday.length;",
                  "pm.expect(days).to.be.at.most(14);",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/forecast.json?key={{api_key}}&q={{q}}&days=15",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "forecast.json"
              ],
              "query": [
                {
                  "key": "key",
                  "value": "{{api_key}}"
                },
                {
                  "key": "q",
                  "value": "{{q}}"
                },
                {
                  "key": "days",
                  "value": "15"
                }
              ]
            },
            "description": "Goal: Test behavior when requesting 15 days (Boundary Value Analysis).\nExpected :\n\n- days=15 - When API max is 14\n    \n- 400\n    \n- Proper validation error"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Search",
      "item": [
        {
          "name": "TC06_Partial_Empty_Search_Test",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400 | Client Side\", function () {\r",
                  "    pm.response.to.have.status(400);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/search.json?key={{api_key}}&q=",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "search.json"
              ],
              "query": [
                {
                  "key": "key",
                  "value": "{{api_key}}"
                },
                {
                  "key": "q",
                  "value": ""
                }
              ]
            },
            "description": "Expected:\n\n- 400\n    \n- Validation error"
          },
          "response": []
        },
        {
          "name": "TC07_Partial_Match_Search_Logic",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Body matches string\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"islamabad\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/search.json?key={{api_key}}&q=Isb",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "search.json"
              ],
              "query": [
                {
                  "key": "key",
                  "value": "{{api_key}}"
                },
                {
                  "key": "q",
                  "value": "Isb"
                }
              ]
            },
            "description": "Expected:\n\n- 200\n    \n- Array returned\n    \n- At least one result contains Islamabad"
          },
          "response": []
        },
        {
          "name": "TC08_Special_Character_Sanitization",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"TC08_Assess_Input_Sanitization\", () => {\r",
                  "// Note: API returns 200 but check if results are empty for safety\r",
                  "pm.expect(pm.response.json()).to.be.an('array');\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/search.json?key={{api_key}}&q=@@##$",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "search.json"
              ],
              "query": [
                {
                  "key": "key",
                  "value": "{{api_key}}"
                },
                {
                  "key": "q",
                  "value": "@@"
                }
              ],
              "hash": "#$"
            },
            "description": "Goal: Negative testing using @#$%.\nExpected:\n\n- 400\n    \n- No server crash\n    \n- No 500"
          },
          "response": []
        }
      ]
    }
  ]
}